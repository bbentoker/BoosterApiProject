rankBoostData = {
    "North America": {
        0: [
            7.59,
            7.59,
            7.59,
            9.49,
            9.49,
            9.49,
            12.24,
            13.19,
            14.14,
            16.04,
            16.99,
            17.94,
            20.79,
            23.64,
            28.01,
            37.51,
            46.44,
            65.06,
            76.69,
            97.74,
            117.69,
            146.19,
            207.94,
            1307.74,
        ],
    },
    "Europe": {
        0: [
            6.99,
            6.99,
            6.99,
            7.99,
            7.99,
            7.99,
            10.99,
            10.99,
            11.49,
            12.99,
            14.99,
            15.99,
            17.99,
            19.99,
            24.99,
            34.99,
            41.49,
            61.99,
            67.99,
            87.49,
            103.99,
            129.99,
            159.99,
            1468.85,
        ],
    },
    "Southeast Asia": {
        0: [
            9.87,
            9.87,
            9.87,
            12.34,
            12.34,
            12.34,
            15.91,
            17.15,
            18.38,
            20.85,
            22.09,
            23.32,
            27.03,
            30.73,
            36.41,
            48.76,
            60.37,
            84.58,
            99.70,
            127.06,
            153.00,
            190.05,
            270.32,
            1700.06,
        ],
    },
    "Ocenia": {
        0: [
            9.87,
            9.87,
            9.87,
            12.34,
            12.34,
            12.34,
            15.91,
            17.15,
            18.38,
            20.85,
            22.09,
            23.32,
            27.03,
            30.73,
            36.41,
            48.76,
            60.37,
            84.58,
            99.70,
            127.06,
            153.00,
            190.05,
            270.32,
            1700.06,
        ],
    },
    "Brazil": {
        0: [
            7.59,
            7.59,
            7.59,
            9.49,
            9.49,
            9.49,
            12.24,
            13.19,
            14.14,
            16.04,
            16.99,
            17.94,
            20.79,
            23.64,
            28.01,
            37.51,
            46.44,
            65.06,
            76.69,
            97.74,
            117.69,
            146.19,
            207.94,
            1307.74,
        ],
    },
}
winBoostData = {
    "North America": {
        0: [
            5.69,
            5.69,
            6.16,
            6.16,
            6.64,
            6.64,
            7.11,
            7.11,
            7.11,
            9.49,
            9.96,
            10.44,
            11.86,
            12.81,
            15.56,
            17.51,
            20.41,
            22.31,
            24.21,
            25.64,
            28.01,
            35.90,
            41.90,
            51.90,
            61.74,
        ],
    },
    "Europe": {
        0: [
            4.99,
            4.99,
            4.99,
            5.49,
            5.49,
            5.49,
            6.49,
            6.49,
            6.49,
            8.49,
            8.99,
            9.99,
            11.29,
            12.29,
            13.29,
            15.29,
            17.49,
            20.29,
            21.29,
            22.49,
            23.99,
            29.49,
            35.49,
            45.49,
            55.49,
        ]
    },
    "Southeast Asia": {
        0: [
            7.40,
            7.40,
            8.01,
            8.01,
            8.63,
            8.63,
            9.24,
            9.24,
            9.24,
            12.34,
            12.95,
            13.57,
            15.42,
            16.65,
            20.23,
            22.76,
            26.53,
            29.00,
            31.47,
            33.33,
            36.41,
            46.67,
            54.47,
            67.47,
            80.26,
        ],
    },
    "Ocenia": {
        0: [
            7.40,
            7.40,
            8.01,
            8.01,
            8.63,
            8.63,
            9.24,
            9.24,
            9.24,
            12.34,
            12.95,
            13.57,
            15.42,
            16.65,
            20.23,
            22.76,
            26.53,
            29.00,
            31.47,
            33.33,
            36.41,
            46.67,
            54.47,
            67.47,
            80.26,
        ],
    },
    "Brazil": {
        0: [
            5.69,
            5.69,
            6.16,
            6.16,
            6.64,
            6.64,
            7.11,
            7.11,
            7.11,
            9.49,
            9.96,
            10.44,
            11.86,
            12.81,
            15.56,
            17.51,
            20.41,
            22.31,
            24.21,
            25.64,
            28.01,
            35.90,
            41.90,
            51.90,
            61.74,
        ],
    },
}
placementsBoostData = {
    "North America": {
        0: [
            4.26,
            3.12,
            3.12,
            3.12,
            3.79,
            3.79,
            3.79,
            4.26,
            4.26,
            4.26,
            5.21,
            5.21,
            5.21,
            5.97,
            5.97,
            5.97,
            9.01,
            9.01,
            9.77,
            9.77,
            9.96,
            10.72,
            12.62,
            19.06,
            23.84,
            34.19,
        ],
    },
    "Europe": {
        0: [
            3.49,
            2.99,
            2.99,
            2.99,
            2.99,
            2.99,
            2.99,
            3.49,
            3.49,
            3.49,
            4.49,
            4.49,
            4.49,
            5.49,
            5.49,
            5.49,
            8.29,
            8.29,
            8.49,
            9.49,
            9.99,
            9.99,
            11.49,
            15.99,
            19.99,
            29.99,
        ]
    },
    "Southeast Asia": {
        0: [
            5.54,
            4.06,
            4.06,
            4.06,
            4.93,
            4.93,
            4.93,
            5.54,
            5.54,
            5.54,
            6.77,
            6.77,
            6.77,
            7.76,
            7.76,
            7.76,
            11.71,
            11.71,
            12.70,
            12.70,
            12.95,
            13.94,
            16.41,
            24.78,
            30.99,
            44.45,
        ],
    },
    "Ocenia": {
        0: [
            5.54,
            4.06,
            4.06,
            4.06,
            4.93,
            4.93,
            4.93,
            5.54,
            5.54,
            5.54,
            6.77,
            6.77,
            6.77,
            7.76,
            7.76,
            7.76,
            11.71,
            11.71,
            12.70,
            12.70,
            12.95,
            13.94,
            16.41,
            24.78,
            30.99,
            44.45,
        ],
    },
    "Brazil": {
        0: [
            4.26,
            3.12,
            3.12,
            3.12,
            3.79,
            3.79,
            3.79,
            4.26,
            4.26,
            4.26,
            5.21,
            5.21,
            5.21,
            5.97,
            5.97,
            5.97,
            9.01,
            9.01,
            9.77,
            9.77,
            9.96,
            10.72,
            12.62,
            19.06,
            23.84,
            34.19,
        ],
    },
}
unratedBoostData = {
    "North America": {
        "Unrated": 3.49,
        "Featured": 3.29,
    },
    "Europe": {
        "Unrated": 2.99,
        "Featured": 2.79,
    },
    "Southeast Asia": {
        "Unrated": 4.54,
        "Featured": 4.28,
    },
    "Ocenia": {
        "Unrated": 4.54,
        "Featured": 4.28,
    },
    "Brazil": {
        "Unrated": 3.49,
        "Featured": 3.29,
    },
}


def placementsBoostPrice(
    server,
    previousRank,
    winsAmount,
    playWithBooster=False,
    priorityBoost=False,
    streamGames=False,
    soloOnly=False,
):
    if server not in placementsBoostData:
        return "wrong server name"

    if len(previousRank) != 2:
        return "Ranks must be a list of 2 integers ->[tier,division]->[1,4]"

    info = placementsBoostData[server]

    index = ((previousRank[0] - 1) * 3) + (previousRank[1])

    if previousRank[0] == 9:
        price = info[0][25] * winsAmount
    else:
        price = info[0][index] * winsAmount
    extras = 0
    if playWithBooster:
        extras += price / 2
    if priorityBoost:
        extras += price / 4
    if streamGames:
        extras += price / 6.67
    if soloOnly:
        extras += price / 5

    return price + extras


def unratedBoostPrice(
    server,
    gameMode,
    winsAmount,
    playWithBooster=False,
    priorityBoost=False,
    streamGames=False,
    soloOnly=False,
):
    if server not in unratedBoostData:
        return "wrong server name"

    info = unratedBoostData[server]
    
    if  gameMode not in info:
        return "wrong game mode name"
    
    price = info[gameMode] * winsAmount

    extras = 0
    if playWithBooster:
        extras += price / 2
    if priorityBoost:
        extras += price / 4
    if streamGames:
        extras += price / 6.67
    if soloOnly:
        extras += price / 5
            
    return price + extras


def winBoostPrice(
    server,
    currentRank,
    winsAmount,
    playWithBooster=False,
    priorityBoost=False,
    streamGames=False,
    soloOnly=False,
):
    if server not in winBoostData:
        return "wrong server name"

    if len(currentRank) != 2:
        return "Ranks must be a list of 2 integers ->[tier,division]->[1,4]"

    info = winBoostData[server]
    index = currentRank[0] * 3 + (currentRank[1]) - 1

    if currentRank[0] == 8:
        price = info[0][24] * winsAmount
    else:
        price = info[0][index] * winsAmount
    extras = 0
    if playWithBooster:
        extras += price / 2
    if priorityBoost:
        extras += price / 4
    if streamGames:
        extras += price / 6.67
    if soloOnly:
        extras += price / 5

    return price + extras


def rankBoostPrice(
    server,
    currentRank,
    currentRR,
    desiredRank,
    playWithBooster=False,
    priorityBoost=False,
    premiumCoaching=False,
):
    info = rankBoostData[server]
    price = 0
    steps = getSteps(currentRank, desiredRank)
    index = (currentRank[0] * 3 + currentRank[1]) - 1

    price += info[0][index] - ((info[0][index] / 7) * currentRR)
    index += 1

    for i in range(1, steps):
        if index >= len(info[0]):
            None
        else:
            price += info[0][index]
            index += 1

    extras = 0
    if playWithBooster:
        extras += price / 2
    if priorityBoost:
        extras += price / 4
    if premiumCoaching:
        extras += price / 4

    return price + extras


def getSteps(currentRank, desiredRank):
    count = 0
    if currentRank[0] == desiredRank[0]:
        count = desiredRank[1] - currentRank[1]
    else:
        count += 3 - currentRank[1]
        count += 3 * (desiredRank[0] - currentRank[0] - 1)
        count += desiredRank[1]
        if desiredRank[1] == 0:
            count += 1
    return count


# print(price("North America", [1, 2], 3, [8, 3],True,True))
# print(price("Brazil", [1, 3], 0, [8, 0],True,True,False))
